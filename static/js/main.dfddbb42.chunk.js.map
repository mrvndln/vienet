{"version":3,"sources":["services/movies.service.ts","services/context.tsx","components/Search/Search.tsx","components/Header/Header.tsx","components/Catalog/Catalog.tsx","components/Catalog/movie_placeholder.png","App.tsx","serviceWorker.js","index.js"],"names":["movieApiBaseUrl","mapResult","res","map","movie","id","title","vote_average","overview","poster_path","date","release_date","rating","resume","picture","undefined","MoviesContext","React","createContext","movies","updateMovies","Function","Search","useState","search","setSearch","useContext","handleOnSubmit","event","preventDefault","fetch","process","then","json","response","results","catch","_","searchMovies","className","name","onSubmit","e","noValidate","type","placeholder","value","onChange","target","Header","Catalog","src","alt","Date","getFullYear","App","useEffect","setMovies","Provider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","href","rel","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console","message"],"mappings":"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","file":"static/js/main.dfddbb42.chunk.js","sourcesContent":["const movieApiBaseUrl = \"https://api.themoviedb.org/3\";\r\nconst posterBaseUrl = \"https://image.tmdb.org/t/p/w300\";\r\n\r\nexport function discoverMovies(): Promise<Movie[]> {\r\n  return fetch(\r\n    `${movieApiBaseUrl}/discover/movie?sort_by=popularity.desc&api_key=${process.env.REACT_APP_API_KEY}`\r\n  )\r\n    .then((res) => res.json())\r\n    .then((response) => mapResult(response.results))\r\n    .catch((_) => {\r\n      return [];\r\n    });\r\n}\r\n\r\nexport function searchMovies(search: string): Promise<Movie[]> {\r\n  return fetch(\r\n    `${movieApiBaseUrl}/search/movie?query=${search}&api_key=${process.env.REACT_APP_API_KEY}`\r\n  )\r\n    .then((res) => res.json())\r\n    .then((response) => mapResult(response.results))\r\n    .catch((_) => {\r\n      return [];\r\n    });\r\n}\r\n\r\nfunction mapResult(res: any[]): Movie[] {\r\n  return res.map((movie) => {\r\n    const {\r\n      id,\r\n      title,\r\n      vote_average,\r\n      overview,\r\n      poster_path,\r\n      release_date,\r\n    } = movie;\r\n\r\n    return {\r\n      id,\r\n      title,\r\n      date: release_date,\r\n      rating: vote_average,\r\n      resume: overview,\r\n      picture: poster_path ? `${posterBaseUrl}${poster_path}` : undefined,\r\n    };\r\n  });\r\n}\r\n\r\nexport interface Movie {\r\n  id: number;\r\n  date: string;\r\n  title: string;\r\n  rating: number;\r\n  resume: string;\r\n  picture?: string;\r\n}","import React from \"react\";\r\nimport { Movie } from \"./movies.service\";\r\n\r\nexport const MoviesContext = React.createContext<{\r\n  movies: Movie[];\r\n  updateMovies: Function;\r\n}>({\r\n  movies: [],\r\n  updateMovies: Function,\r\n});","import React, { useState, useContext } from \"react\";\r\nimport \"./Search.css\";\r\n\r\nimport { searchMovies } from \"../../services/movies.service\";\r\nimport { MoviesContext } from \"../../services/context\";\r\n\r\nexport const Search = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const { updateMovies } = useContext(MoviesContext);\r\n\r\n  const handleOnSubmit = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    if (search) {\r\n      searchMovies(search).then((movies) => {\r\n        updateMovies(movies);\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"search__bar\">\r\n      <form name=\"form\" onSubmit={(e) => handleOnSubmit(e)} noValidate>\r\n        <input\r\n          type=\"text\"\r\n          name=\"movie\"\r\n          className=\"search__input\"\r\n          placeholder=\"Search movie\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n};","import React from \"react\";\r\nimport { Search } from \"../Search/Search\";\r\nimport \"./Header.css\";\r\n\r\nexport const Header = () => {\r\n  return (\r\n    <div className=\"header\">\r\n      <h1 className=\"header__title\">VIENET</h1>\r\n      <div className=\"header__search\">\r\n        <Search></Search>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import React, { useContext } from \"react\";\r\nimport \"./Catalog.css\";\r\nimport imgPlaceholder from './movie_placeholder.png';\r\nimport { MoviesContext } from \"../../services/context\";\r\n\r\nexport const Catalog = () => {\r\n  const { movies } = useContext(MoviesContext);\r\n\r\n  return (\r\n    <div className=\"catalogContainer\">\r\n      {movies.map((movie) => (\r\n        <div className=\"catalog__item\" key={movie.id}>\r\n          <div className=\"catalog__item__img\">\r\n            <img src={movie.picture || imgPlaceholder} alt={movie.title} />\r\n            <div className=\"catalog__item__resume\">{movie.resume}</div>\r\n          </div>\r\n          <div className=\"catalog__item__footer\">\r\n            <div className=\"catalog__item__footer__name\">\r\n              {movie.title} ({new Date(movie.date).getFullYear()})\r\n            </div>\r\n            <div className=\"catalog__item__footer__rating\">{movie.rating}</div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALcAAAETCAMAAABDSmfhAAAAIVBMVEXy8vLZ2dna2tre3t7h4eHw8PD09PTs7Ozm5ubj4+Pp6emhOneKAAAD3ElEQVR4nO3b2XKjMBBGYRYjlvd/4GERkpCMaewptZg531WccioNRp1fDakqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANUa7gC+NvXlg6aav63aoHle6edWLV/+wwrum3rSPKtwMtux6fFTdVbvX3dlvPONK7+voMjHD8IDOaMa97mkvtlkXaeml76uytq/NtL5qhq7k0m2Vwaq0bXHtjOVeL8avSltjV3vNWOpJ91W224Xh26L99lTiST9WuaxG/wH4k17eIjVNVOPQx2Vvn0VZTd28rfKtohap7x0CbTmdsbuu9njSy1ikce8QmDujdtVVEKmSJnKugLQbRKpubD4VGxjU6z5EKlP1spPuf1ztAI6RyphO0F5ee4wZtTrjp0h1rg9ijE5nNMlGR9AWG7e52F7P8SU3V2W7H4igLbpVmRx0Lu83Olf2CyPZ3eWr21VpF5gsrGxvfnPQucoOq1w3ZdKwsmwmkt1dvrqjKucFJit7fbM73dlnLncj1Ynsq/J+pHqnvf5Nf9mNJPWB6qr8XqPXvO9UOcQf0iv7X3nfxwZpgF2q7I9dKPfIPIxUxvTCxt2v2TU46U3equNIdSzmlI1Uxl9j2bcQPlJF8e6Tx0Yq+8OKkcp99Ekt5/xGJznoXGX/tNHxH0320+0u0Ncep6/Lng9ym9cmB51NGKmWMbGRhpV26ky6u8slqnIZE4vDSjO6051//pNU+VXGIlIJ674zOz6XPVJ14hz1kV6kuiNdEnmrDpv3JB7Bzr2jj96sGalMNwk7yTD3+OrwZt1INZcu2vhsPxrMa/Uilbsd/x9Eqq6ASBXOsS+4eW0Bkeqb2XEJkWq0ATa+0f32fNu73MnuLp8mLkYYVtYnDsqYHW+jbPH8pxnc5iL/+CHuHe1X0838q/J/ilSJp86O9SLVb/Qi1XjjxFdxZsw/O95/c1PJH394zX27O4yaNWfHy78GyKbHa5XhmxvFSLW9NpLb8W8POquHRqrKLTBXi3x2rBmplgtjva3wqNmx/f3zAruz0dnntX5grlH1WoE/X9dlL9fF8viD4qpMiG90L48/RK1Ite47jwy6L7SrnsmfGPT0nx2slkU63R3NlvCMaeU7o1T+SHVKmlNWRf0H2+ld7j5+4iB7pLpikjFxvc5roycOiliVEZPsDwYTL4BCVmXERJuJPcZoRiqhcJGWEqlk/KbMVelWpWph17bVWMBG5765M6YbHf1IJeDibrK7ewbFZ6l+4i6T7Lfjf7T/ySwoUsnY+FJUpBJa4ot2DV964NkGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/jj9cXSDEl6hGSAAAAABJRU5ErkJggg==\"","import React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport { Header } from \"./components/Header/Header\";\r\nimport { Catalog } from \"./components/Catalog/Catalog\";\r\nimport { Movie, discoverMovies } from \"./services/movies.service\";\r\nimport { MoviesContext } from \"./services/context\";\r\n\r\nfunction App() {\r\n  useEffect(() => {\r\n    discoverMovies()\r\n      .then(setMovies)\r\n      .catch((_) => setMovies([]));\r\n  }, []);\r\n\r\n  const [movies, setMovies] = useState<Movie[]>([]);\r\n\r\n  return (\r\n    <MoviesContext.Provider value={{ movies, updateMovies: setMovies }}>\r\n      <div className=\"App\">\r\n        <Header></Header>\r\n        <Catalog></Catalog>\r\n      </div>\r\n    </MoviesContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","const isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <link\n      href=\"https://fonts.googleapis.com/css2?family=Montserrat&display=swap\"\n      rel=\"stylesheet\"\n    ></link>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}